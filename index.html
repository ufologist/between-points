<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Between-points by ufologist</title>

    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/demo.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="icon" type="image/x-icon" href="favicon.ico" /> 

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>between-points</h1>
        <p>两点的差值连接线</p>
        <p class="view"><a href="https://github.com/ufologist/between-points">View the Project on GitHub <small>ufologist/between-points</small></a></p>
        <ul>
          <li><a href="https://github.com/ufologist/between-points/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/ufologist/between-points/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/ufologist/between-points">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p>话说图形我们一般用于了解趋势, 快速定位问题所在, 但想要对数值进行精确评估, 还是直白的表格 + 数字好了.</p>

        <p>但这样问题就来了, 如果我们既想了解趋势, 又想了解具体数值的差异, 那该怎么办呢?</p>
        <p>是用柱状图 + 表格吗?</p>

        <p>我觉得还是这样的好! 让用户选择图形上的点, 自动比较两点的差值, 给用户最直观的感受.</p>
        <p><img src="images/between-points-example.png" height="351" width="487" title="between-points-example" alt="between-points-example" /></p>
      </section>
      <section>
        <p>想法有了, 不知道是不是有人做过这样的东西. 搜索一番后, 貌似没有发现, 也可能是我孤陋寡闻吧, 看来只能自己写一个了</p>
        <p>图形我就不自己写了, 已经有做的非常好的, 例如<a href="http://highcharts.com">Highcharts</a></p>
        <p>那么我来扩展下Highcharts, 做一个plugin好了...</p>

        <p><strong>于是between-points诞生了</strong></p>
        <p>通过点击Highcharts X-Y轴系列图形(如line, area, column, bar)上的点来获取差值, 以连接线的形式来展现他们的关系.</p>
        <div class="example-container">
            <div id="column-example" class="example"></div>
        </div>
      </section>
      <section>
        <h2>支持图形</h2>
        <ul>
          <li>line</li>
          <li>area</li>
          <li>column</li>
          <li>inverted line, area, column</li>
          <li>bar</li>
        </ul>

        <h2>使用示例</h2>
        <div class="highlight highlight-html">
<pre><span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>基于Highcharts绘制差值连接线的示例<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1.0, maximum-scale=1.0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;style&gt;</span>
    <span class="nc">.example</span> <span class="p">{</span>
        <span class="k">height</span><span class="o">:</span> <span class="m">400px</span><span class="p">;</span>
        <span class="k">margin</span><span class="o">:</span> <span class="m">0</span> <span class="k">auto</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h1&gt;</span>基于Highcharts绘制差值连接线的示例<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;h2&gt;</span>column chart example<span class="nt">&lt;/h2&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"column-example"</span> <span class="na">class=</span><span class="s">"example"</span><span class="nt">&gt;&lt;/div&gt;</span>

    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"http://lib.sinaapp.com/js/jquery/1.8.2/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"http://code.highcharts.com/highcharts.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://rawgithub.com/ufologist/between-points/master/highcharts.between-points.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

    <span class="nt">&lt;script&gt;</span>
    <span class="kd">var</span> <span class="nx">betweenPoints</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Highcharts</span><span class="p">.</span><span class="nx">BetweenPoints</span><span class="p">();</span>

    <span class="nx">$</span><span class="p">(</span><span class="s1">'#column-example'</span><span class="p">).</span><span class="nx">highcharts</span><span class="p">({</span>
        <span class="nx">chart</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">type</span><span class="o">:</span> <span class="s1">'column'</span>
        <span class="p">},</span>
        <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">text</span><span class="o">:</span> <span class="s1">'Browser market share, April, 2011'</span>
        <span class="p">},</span>
        <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">categories</span><span class="o">:</span> <span class="p">[</span><span class="s1">'MSIE'</span><span class="p">,</span> <span class="s1">'Firefox'</span><span class="p">,</span> <span class="s1">'Chrome'</span><span class="p">,</span> <span class="s1">'Safari'</span><span class="p">,</span> <span class="s1">'Opera'</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="nx">yAxis</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">text</span><span class="o">:</span> <span class="s1">'Total percent market share'</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">plotOptions</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">column</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">cursor</span><span class="o">:</span> <span class="s1">'pointer'</span><span class="p">,</span>
                <span class="nx">point</span><span class="o">:</span> <span class="p">{</span>
                    <span class="nx">events</span><span class="o">:</span> <span class="p">{</span>
                        <span class="nx">click</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
                            <span class="nx">betweenPoints</span><span class="p">.</span><span class="nx">between</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> 
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
            <span class="nx">name</span><span class="o">:</span> <span class="s1">'Browser brands'</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mf">11.94</span><span class="p">,</span> <span class="mf">7.15</span><span class="p">,</span> <span class="mf">2.14</span><span class="p">]</span>
        <span class="p">}]</span>
    <span class="p">});</span>
    <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre>
        </div>

        <h2>API</h2>
        <div class="highlight highlight-JavaScript">
<pre><span class="c1">// 1. 选择一种画差值线的模式(竖向和横向)</span>
<span class="kd">var</span> <span class="nx">direction</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'portrait'</span><span class="p">,</span> <span class="s1">'landscape'</span><span class="p">];</span>

<span class="c1">// 2. 可选配置项(这里列举的都是默认值)</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">higherPointOffset</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>        <span class="c1">// 最高点延长线的偏移量</span>
    <span class="nx">textOffset</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>                <span class="c1">// 差值文本的偏移量</span>
    <span class="nx">decimalDigits</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>             <span class="c1">// 差值需要保留的小数位</span>
    <span class="nx">directionDecorationOffset</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span> <span class="c1">// 绘制方向装饰物的偏移量</span>
    <span class="nx">lineAttr</span><span class="o">:</span> <span class="p">{</span>                   <span class="c1">// 连接线(包括方向装饰物)的属性</span>
        <span class="s1">'stroke-width'</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="nx">stroke</span><span class="o">:</span> <span class="s1">'black'</span><span class="p">,</span>
        <span class="nx">dashstyle</span><span class="o">:</span> <span class="s1">'dash'</span><span class="p">,</span>
        <span class="nx">opacity</span><span class="o">:</span> <span class="mf">0.9</span>
    <span class="p">},</span>
    <span class="nx">lineCss</span><span class="o">:</span> <span class="p">{},</span>                  <span class="c1">// 连接线(包括方向装饰物)的样式</span>
    <span class="nx">textAttr</span><span class="o">:</span> <span class="p">{},</span>                 <span class="c1">// 差值文本的属性</span>
    <span class="nx">textCss</span><span class="o">:</span> <span class="p">{</span>                    <span class="c1">// 差值文本的样式</span>
        <span class="s1">'font-weight'</span><span class="o">:</span> <span class="s1">'bold'</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// 3. 新建实例</span>
<span class="kd">var</span> <span class="nx">betweenPoints</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Highcharts</span><span class="p">.</span><span class="nx">BetweenPoints</span><span class="p">(</span><span class="nx">direction</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nx">options</span><span class="p">);</span>

<span class="c1">// 4. 一般在图形plotOptions的click方法中调用between即可</span>
<span class="nx">betweenPoints</span><span class="p">.</span><span class="nx">between</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</pre>
        </div>

        <h2>更多示例</h2>
        <ul>
          <li><a href="between-points-example.html">between-points Example</a></li>
          <li><a href="https://github.com/ufologist/between-points/tree/master/example">example src</a></li>
        </ul>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/ufologist">ufologist</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    <link href='http://fonts.googleapis.com/css?family=Playball' rel='stylesheet' />
    <script src="//lib.sinaapp.com/js/jquery/1.8.2/jquery.min.js"></script>
    <script src="//code.highcharts.com/highcharts.js"></script>

    <script src="//cdn.jsdelivr.net/gh/ufologist/between-points@master/highcharts.between-points.js"></script>

    <script src="//cdn.jsdelivr.net/gh/ufologist/between-points@master/example/column-example.js"></script>
  </body>
</html>
